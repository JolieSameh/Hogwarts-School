<div class="card container">

  <div class="card-header">
    <h1>Wizards</h1>
  </div>

  <div class="card-body">
    <table class="table table-striped table-hover"> 
      <thead class="table-dark">
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>House</th>
          <th></th>
          <%if current_user.role == 1 %>
            <th></th>
            <th></th>
            <th></th>
          <% end %>

        </tr>
      </thead>
      <tbody class="table-group-divider" >
        <% @users.each do |user| %>
            <tr>
                <td><%= user.name %></td>  
                <td><%= user.email %></td>
                <td><%= user.house %></td>
                <% if current_user.followees.include?(user) %>
                  <td><%= button_to "Unfollow", unfollow_user_url(user.id), method: "POST", class:"btn btn-dark me-md-2"%></td>
                <% else %>
                  <td><%= button_to "Follow", follow_user_url(user.id), method: "POST",class:"btn btn-dark me-md-2" %></td>
                <% end %>
                <%if current_user.role == 1 %>
                  <td><%= link_to "Show", user, class:"btn btn-dark me-md-2" %></td>
                  <td><%= link_to "Edit", admin_edit_path(user.id), class:"btn btn-dark me-md-2" %></td>
                  <td><%= button_to "Delete", delete_user_path(user.id), method: :delete, data: {turbo_method: :delete,
                          turbo_confirm: 'Are you sure?' }, class:"btn btn-danger me-md-2"%></td>      
                <% end %>
  
            </tr>
        <% end %>
      </tbody>
    </table>
  </div>